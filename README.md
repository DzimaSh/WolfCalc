# WolfCalc

## Описание проекта

WolfCalc - это комплексная система, которая включает в себя следующие компоненты:

### Сервер
Сервер обрабатывает запросы от клиентских приложений, обеспечивает передачу решений пользователю и сообщений между пользователями. Он также управляет всеми подсистемами и обеспечивает их взаимодействие.

### База данных
База данных хранит информацию о пользователях, сообщениях, запросах и других данных, необходимых для функционирования приложения. Она обеспечивает быстрый и надежный доступ к данным.

### Клиентское приложение (веб версия)
Клиентское приложение обеспечивает пользовательский интерфейс для взаимодействия с сервером. Оно позволяет пользователям отправлять запросы на вычисления, просматривать результаты и общаться с другими пользователями.

### Подсистема управления пользователями
Подсистема управления пользователями управляет учетными записями пользователей и их правами доступа. Она позволяет создавать, изменять и удалять учетные записи, а также управлять правами доступа пользователей.

### Подсистема передачи сообщений (брокер-сообщений)
Подсистема передачи сообщений обеспечивает обмен сообщениями между пользователями и системой. Она позволяет пользователям общаться в реальном времени и получать уведомления от системы.

### Подсистема вычислений
Подсистема вычислений выполняет все необходимые вычисления, требуемые для обработки запросов пользователей. Она включает в себя различные алгоритмы и методы вычислений.

### Подсистема авторизации и аутентификации

#### Диаграмма входа в систему по умолчанию

```mermaid
graph TD
    A[Start] --> B{New User?}
    B -->|Yes| C[Sign Up]
    B -->|No| D[Sign In]
    C --> E[Home Page]
    D --> E
    E --> F{Sign Out?}
    F -->|Yes| G[Goodbye!]
    F -->|No| E

```

#### TOTP (Time-based One-Time Password)
Метод одноразовых паролей, основанный на времени, генерирует одноразовые пароли, используя общий секрет в сочетании с временным окном в качестве источника уникальности. Этот алгоритм используется в широко известных приложениях-аутентификаторах, например Google Authenticator, Mircrosoft Authenticator и других.

#### TOTP диаграмма
```mermaid
sequenceDiagram
participant Client
participant Server
Client -> Server: shared secret
Client ->> Server: login (name: xy, password: xy)
Server ->> Client : 401 TOTP required
Client ->> Client: Client generates TOTP
Client ->> Server: login (name: xy, password: xy, totp: 564867)
Server ->> Server: Server generates TOTP
Server ->> Server: Is client TOTP the same?
Server -->> Client: If equal: JWT (session, ...)
Server -->> Client: If different: 401, BadCredentials
```


### Подсистема управления уведомлениями
Подсистема управления уведомлениями управляет отправкой уведомлений пользователям. Она позволяет системе информировать пользователей о различных событиях, таких как завершение вычислений или получение нового сообщения.

```mermaid
graph TD
    A[Начало] --> B{Получено новое уведомление?}
    B -->|Да| C[Создание уведомления]
    C --> D[Отправка уведомления]
    D --> E{Пользователь прочитал уведомление?}
    E -->|Да| F[Обновление статуса уведомления]
    E -->|Нет| D
    F --> G{Есть еще уведомления?}
    G -->|Да| B
    G -->|Нет| H[Конец]
```

### Подсистема администрирования
Подсистема администрирования позволяет администраторам управлять и настраивать систему. Она предоставляет инструменты для мониторинга состояния системы, управления пользователями и настройки параметров системы.

Каждый из этих компонентов имеет свой собственный README файл, который содержит более подробную информацию о его реализации и использовании.
